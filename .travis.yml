language: c++
dist: xenial

addons:
  apt:
    packages:
      - libcppunit-dev

compiler:
  - clang
  - gcc

env:
  - USE_TAGGING=true   GC_TYPE=generational
  - USE_TAGGING=true   GC_TYPE=mark_sweep
  - USE_TAGGING=true   GC_TYPE=copying
  
  - USE_TAGGING=false  GC_TYPE=generational CACHE_INTEGER=true
  - USE_TAGGING=false  GC_TYPE=mark_sweep   CACHE_INTEGER=true
  - USE_TAGGING=false  GC_TYPE=copying      CACHE_INTEGER=true
  
  - USE_TAGGING=false  GC_TYPE=generational CACHE_INTEGER=false
  - USE_TAGGING=false  GC_TYPE=mark_sweep   CACHE_INTEGER=false
  - USE_TAGGING=false  GC_TYPE=copying      CACHE_INTEGER=false
  


script:
    - make test
    - make bench
    - make clean
    - make unittests
